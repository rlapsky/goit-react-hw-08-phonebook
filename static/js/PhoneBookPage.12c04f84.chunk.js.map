{"version":3,"sources":["redux/phoneBook/filter/filterSelectors.js","redux/phoneBook/items/itemsSelectirs.js","redux/phoneBook/loading/loaderSelectors.js","Components/loaders/LoaderContacts/LoaderContactsStyled.js","Components/loaders/LoaderContacts/LoaderContacts.js","Components/PhoneBook/Contacts/ContactList/ContactItems.js","Components/PhoneBook/Contacts/Contacts.js","Components/PhoneBook/Form/Filter/filter.js","redux/phoneBook/error/errorSelectors.js","Components/PhoneBook/Form/Form.js","redux/phoneBook/items/itemsOptions.js","Components/PhoneBook/PhoneBook.js","redux/phoneBook/filter/filterOptions.js","pages/PhoneBookPage.js"],"names":["getFilter","state","contacts","filter","getFilteredContacts","createSelector","items","formatedFilter","toLowerCase","contact","name","includes","getLoader","loader","LoaderWraper","styled","div","LoaderContacts","id","ContactItems","deleteContact","number","type","onClick","memo","connect","map","ClientsFilter","setFilter","placeholder","value","onChange","getError","error","Form","onHandlerSubmit","e","preventDefault","props","addContact","setState","onHandlerChange","resetError","target","onSubmit","this","pattern","title","required","Component","ownProps","URL","BASE","PhoneBook","a","some","toast","warn","addContactOptions","deleteContactOptions","setFilterOptions","addALLContactOptions","mapDispatch","dispatch","getState","setLoading","axios","get","data","Object","keys","key","addALLContact","setError","message","post","delete","PhoneBookPage"],"mappings":"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","file":"static/js/PhoneBookPage.12c04f84.chunk.js","sourcesContent":["import { createSelector} from '@reduxjs/toolkit'\r\nimport { getAllItems } from '../items/itemsSelectirs';\r\nexport const getFilter = (state) => state.contacts.filter;\r\n\r\n\r\nexport const getFilteredContacts = createSelector([getAllItems, getFilter], (items,filter) => {\r\n    const formatedFilter = filter?.toLowerCase(); \r\n    return items?.filter((contact) =>\r\n      contact.name.toLowerCase().includes(formatedFilter)\r\n    );\r\n});\r\n","export const getAllItems = (state) => state.contacts.items;\r\n","export const getLoader = (state) => state.contacts.loader;\r\n","import styled from 'styled-components'\r\nexport const LoaderWraper = styled.div`\r\n  .loader {\r\n    width: 100px;\r\n    height: 100px;\r\n    border-radius: 100%;\r\n    position: relative;\r\n    margin: 0 auto;\r\n  }\r\n\r\n  #loader-4 span {\r\n    display: inline-block;\r\n    width: 20px;\r\n    height: 20px;\r\n    border-radius: 100%;\r\n    background-color: #1f2937;\r\n    margin: 35px 5px;\r\n    opacity: 0;\r\n  }\r\n\r\n  #loader-4 span:nth-child(1) {\r\n    animation: opacitychange 1s ease-in-out infinite;\r\n  }\r\n\r\n  #loader-4 span:nth-child(2) {\r\n    animation: opacitychange 1s ease-in-out 0.33s infinite;\r\n  }\r\n\r\n  #loader-4 span:nth-child(3) {\r\n    animation: opacitychange 1s ease-in-out 0.66s infinite;\r\n  }\r\n\r\n  @keyframes opacitychange {\r\n    0%,\r\n    100% {\r\n      opacity: 0;\r\n    }\r\n\r\n    60% {\r\n      opacity: 1;\r\n    }\r\n  }\r\n`;","import React from \"react\";\r\nimport { LoaderWraper } from \"./LoaderContactsStyled\";\r\nconst LoaderContacts = () => {\r\n  return (\r\n    <LoaderWraper>\r\n      <div id=\"loader-4\">\r\n        <span></span>\r\n        <span></span>\r\n        <span></span>\r\n      </div>\r\n    </LoaderWraper>\r\n  );\r\n};\r\n\r\nexport default LoaderContacts;\r\n","import React, { memo } from \"react\";\r\nconst ContactItems = ({ contact, deleteContact }) => {\r\n  const { name, number, id } = contact;\r\n  return (\r\n    <>\r\n      <li >\r\n        <p >\r\n          {name}-{number}\r\n        </p>\r\n        <button\r\n          id={id}\r\n          type=\"button\"\r\n          onClick={deleteContact}\r\n        >\r\n          DELETE\r\n        </button>\r\n      </li>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default memo(ContactItems);\r\n","import { connect } from \"react-redux\";\r\nimport { getFilteredContacts } from \"../../../redux/phoneBook/filter/filterSelectors\";\r\nimport { getLoader } from \"../../../redux/phoneBook/loading/loaderSelectors\";\r\nimport LoaderContacts from \"../../loaders/LoaderContacts/LoaderContacts\";\r\n\r\nimport ContactItems from \"./ContactList/ContactItems\";\r\n\r\nconst Contacts = ({ items, deleteContact, loader }) => {\r\n  return (\r\n    <>\r\n      <h2 >\r\n        Contacts\r\n      </h2>\r\n      <div >\r\n        {loader ? (\r\n          <LoaderContacts />\r\n        ) : (\r\n          <ul >\r\n            {items?.map((contact) => (\r\n              <ContactItems\r\n                contact={contact}\r\n                key={contact.id}\r\n                deleteContact={deleteContact}\r\n              />\r\n            ))}\r\n          </ul>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nconst mapState = (state) => ({\r\n  loader: getLoader(state),\r\n  items: getFilteredContacts(state),\r\n});\r\nexport default connect(mapState)(Contacts);\r\n","import React from \"react\";\r\nconst ClientsFilter = ({ filter, setFilter }) => {\r\n  return (\r\n    <label>\r\n      Найди контакт\r\n      <div>\r\n        <div >\r\n        </div>\r\n        <input\r\n          placeholder=\"Поиск\"\r\n          type=\"text\"\r\n          value={filter}\r\n          onChange={setFilter}\r\n        />\r\n      </div>\r\n    </label>\r\n  );\r\n};\r\n\r\nexport default ClientsFilter;\r\n","export const getError = (state) => state.contacts.error;\r\n","import React, {Component} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {resetError} from \"../../../redux/phoneBook/error/erorAction\";\r\nimport {getError} from \"../../../redux/phoneBook/error/errorSelectors\";\r\n\r\nclass Form extends Component {\r\n    state = {\r\n        name: \"\",\r\n        number: \"\",\r\n    };\r\n    onHandlerSubmit = (e) => {\r\n        e.preventDefault();\r\n        this.props.addContact(this.state);\r\n        this.setState({name: \"\", number: \"\"});\r\n    };\r\n    onHandlerChange = (e) => {\r\n        this.props.error && this.props.resetError();\r\n        const {name, value} = e.target;\r\n        this.setState({[name]: value});\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <form onSubmit={this.onHandlerSubmit}>\r\n                <label>\r\n                    <input\r\n                        type=\"text\"\r\n                        name=\"name\"\r\n                        value={this.state.name}\r\n                        pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\r\n                        title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\r\n                        required\r\n                        onChange={this.onHandlerChange}\r\n                    />\r\n                </label>\r\n                <label>\r\n                    <input\r\n                        type=\"tel\"\r\n                        name=\"number\"\r\n                        value={this.state.number}\r\n                        pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\r\n                        title=\"Номер телефона должен состоять цифр и может содержать пробелы, тире, круглые скобки и может начинаться с +\"\r\n                        required\r\n                        onChange={this.onHandlerChange}\r\n                    />\r\n                </label>\r\n                <button\r\n                    type=\"submit\"\r\n                >\r\n                    ADD CONTACT\r\n                </button>\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n    return {\r\n        error: getError(state),\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, {resetError})(Form);\r\n","import axios from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\nimport { setError } from \"../error/erorAction\";\r\nimport { setLoading } from \"../loading/loaderAction\";\r\nimport { addALLContact, addContact, deleteContact } from \"./itemsAction\";\r\n\r\nconst URL = `https://goit-phonebook-d8ec3-default-rtdb.firebaseio.com/`;\r\nconst BASE = `phoneBook.json`;\r\n\r\nexport const addALLContactOptions = () => async (dispatch, getState) => {\r\n  dispatch(setLoading())\r\n  try {\r\n    const { data } = await axios.get(URL + BASE);\r\n    if (data) {\r\n      const contacts = Object.keys(data).map((key) => ({\r\n        id: key,\r\n        ...data[key],\r\n      }));\r\n      dispatch(addALLContact(contacts));\r\n    } else return;\r\n  } catch (error) {\r\n    dispatch(setError(toast.error(`☠️Oh damn it ${error.message}!!`)));\r\n  } finally {\r\n     dispatch(setLoading());\r\n  }\r\n};\r\nexport const addContactOptions =(contact) => async (dispatch, getState) => {\r\n     dispatch(setLoading());\r\n    try {\r\n      const { data } = await axios.post(URL + BASE, contact);\r\n      dispatch(addContact({ ...contact, id: data.name }));\r\n    } catch (error) {\r\n    dispatch(setError(toast.error(`☠️Oh damn it ${error.message}!!`)));\r\n    } finally {\r\n       dispatch(setLoading());\r\n    }\r\n  };\r\nexport const deleteContactOptions =\r\n  (id) => async (dispatch, getState) => {\r\n     dispatch(setLoading());\r\n    try {\r\n      await axios.delete(URL + `phoneBook/${id}.json`);\r\n      dispatch(deleteContact(id));\r\n    } catch (error) {\r\n    dispatch(setError(toast.error(`☠️Oh damn it ${error.message}!!`)));\r\n    } finally {\r\n       dispatch(setLoading());\r\n    }\r\n    };\r\n\r\n","import React, { Component } from \"react\";\r\nimport Contacts from \"./Contacts/Contacts\";\r\nimport ClientsFilter from \"./Form/Filter/filter\";\r\nimport Form from \"./Form/Form\";\r\n\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  addALLContactOptions,\r\n  addContactOptions,\r\n  deleteContactOptions,\r\n} from \"../../redux/phoneBook/items/itemsOptions\";\r\nimport { setFilterOptions } from \"../../redux/phoneBook/filter/filterOptions\";\r\nimport {\r\n  getFilter,\r\n  getFilteredContacts,\r\n} from \"../../redux/phoneBook/filter/filterSelectors\";\r\nimport { getLoader } from \"../../redux/phoneBook/loading/loaderSelectors\";\r\n\r\nclass PhoneBook extends Component {\r\n  async componentDidMount() {\r\n    this.props.addALLContactOptions();\r\n  }\r\n\r\n  addContact = async (contact) => {\r\n    if (this.props.items.some(({ name }) => name === contact.name)) {\r\n      toast.warn(`${contact.name}, уже в списке контактов!`);\r\n    } else {\r\n      this.props.addContactOptions(contact);\r\n    }\r\n  };\r\n\r\n  deleteContact = async (e) => {\r\n    const { id } = e.target;\r\n    this.props.deleteContactOptions(id);\r\n  };\r\n  setFilter = (e) => {\r\n    const { value } = e.target;\r\n    this.props.setFilterOptions(value);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div>\r\n          <div>\r\n            <div>\r\n              <ToastContainer />\r\n              <h1>\r\n                Phonebook\r\n              </h1>\r\n\r\n              <Form addContact={this.addContact} />\r\n              <ClientsFilter\r\n                setFilter={this.setFilter}\r\n                filter={this.props.filter}\r\n              />\r\n\r\n              <Contacts\r\n                contacts={this.props.items}\r\n                deleteContact={this.deleteContact}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  items: getFilteredContacts(state),\r\n  filter: getFilter(state),\r\n  loader: getLoader(state),\r\n});\r\nconst mapDispatch = {\r\n  addALLContactOptions,\r\n  addContactOptions,\r\n  deleteContactOptions,\r\n  setFilterOptions,\r\n};\r\nexport default connect(mapStateToProps, mapDispatch)(PhoneBook);\r\n","import { setFilter } from \"./filterAction\";\r\n\r\nexport const setFilterOptions = (value) => (dispatch, getState) => {\r\n  dispatch(setFilter(value));\r\n};\r\n","import React from \"react\";\r\nimport PhoneBook from \"../Components/PhoneBook/PhoneBook\";\r\n\r\nconst PhoneBookPage = () => {\r\n  return (\r\n    <>\r\n      <PhoneBook />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PhoneBookPage;\r\n"],"sourceRoot":""}